<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1.0, width=device-width">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <title>calendar</title>
    <link rel="stylesheet" href="20151129.css">
    <script>
        function main() {
            var dates = document.querySelector('.dates');
            for (var i = 1; i <= 365; i++) {
                var li = document.createElement('li');
                var date = new Date();
                date.setMonth(0);
                date.setDate(i);
                li.innerHTML = date.getDate();
                var y = 280 - 400 * Math.sin((360 * (i + 284)) / 365 / 180 * Math.PI);
                li.style.transform = 'translate(0, ' + y + 'px)';

                dates.appendChild(li); //where
            }
            
            draw();
        }

        var i = 0;
        var lastUpdate = new Date();
        function draw() {
            window.requestAnimationFrame(draw);
            var now = new Date();
            if(now - lastUpdate < 1000) return;
            lastUpdate = now;
            
            var canvas = document.querySelector('canvas');
            canvas.width = window.innerWidth;
            canvas.height = 800;
            var ctx = canvas.getContext('2d');
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, 600, 400);
            ctx.fillStyle = '#FFFFFF';
            var x = i*40+34;
            var y = 100 - 400 * Math.sin((360 * (i + 284)) / 365 / 180 * Math.PI);
            ctx.beginPath();
            ctx.arc(x, y, 5, 0, Math.PI * 2);
            ctx.fill();
            i++;
        }

        window.addEventListener('load', main);
    </script>

</head>

<body>
    <canvas class="canvas">
    </canvas>
    <h1>황도달력</h1>
    <h2>* 천구(天球)상의 태양의 궤도</h2>
    <a href="http://astro.unl.edu/naap/motion1/animations/seasons_ecliptic.html" style="color:white;" src='마우스올렸을때 바뀔이미지주소'><ol class="dates">
       </ol></a>
    <p class="sindata
            ">적위: 23.45 * sin( (360*(1월1일부터 현재까지 일 수 + 284))/365 )</p>
</body>

</html>